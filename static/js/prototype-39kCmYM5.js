import{_ as k,r as A}from"./index-DL5Tmjf3.js";import{o as c,c as l,a as n,F as b,a7 as v,R as h,T as u,av as $,aw as V,U as _,ah as C,as as O}from"./@vue-DE00ZNZ5.js";import{S as R,P as T,W as x,G as B,O as U,V as I,A as W,D as H}from"./three-C4bHvUaY.js";import{i as N}from"./element-plus-CRrA4s9w.js";import"./vue-router-DXe9n6bk.js";import"./lodash-es-WEemOz_S.js";import"./@vueuse-CGsx6Jjg.js";import"./@element-plus-DgGNcXce.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-CtcGg-6p.js";const z={props:{selectedItems:{type:Array,default:()=>[]}},data(){return{isVisible:!1,shoppingItems:[{name:"Tissue Paper"},{name:"Milk"},{name:"Detergent"}]}},methods:{show(){this.isVisible=!0},close(){this.isVisible=!1},isItemChecked(s){return this.selectedItems.includes(s)}}},E={key:0,class:"shopping-list-container"},F=n("h2",null,"Shopping List",-1),Y=["id","checked"],q=["for"];function G(s,t,d,r,o,e){return o.isVisible?(c(),l("div",E,[F,n("ul",null,[(c(!0),l(b,null,v(o.shoppingItems,(i,m)=>(c(),l("li",{key:m},[n("input",{type:"checkbox",id:`item-${m}`,checked:e.isItemChecked(i.name),disabled:""},null,8,Y),n("label",{for:`item-${m}`},u(i.name),9,q)]))),128))]),n("button",{onClick:t[0]||(t[0]=(...i)=>e.close&&e.close(...i))},"Close")])):h("",!0)}const Q=k(z,[["render",G]]),j={data(){return{visible:!1,shoppingItems:[{name:"Tissue Paper",section:"Personal Care Section"},{name:"Milk",section:"Beverages Section"},{name:"Detergent",section:"Cleaning Supplies Section"}],selectedItem:null,selectedSection:""}},methods:{show(){this.visible=!0},close(){this.visible=!1},hide(){this.visible=!1,this.selectedItem=null,this.selectedSection=""},selectItem(s){this.selectedItem=s,this.selectedSection=s.section}}},D=s=>($("data-v-f1296a71"),s=s(),V(),s),J={key:0,class:"dialogue-container"},K=D(()=>n("p",null,"Hi! What can I help you with?",-1)),X={class:"items-container"},Z=D(()=>n("p",null,"Do you need help finding the following items?",-1)),ee=["onClick"],se={key:0,class:"result"};function te(s,t,d,r,o,e){return o.visible?(c(),l("div",J,[K,n("div",X,[Z,n("ul",null,[(c(!0),l(b,null,v(o.shoppingItems,i=>(c(),l("li",{key:i.name},[n("button",{onClick:m=>e.selectItem(i)},u(i.name),9,ee)]))),128))])]),o.selectedSection?(c(),l("p",se,"You can find "+u(o.selectedItem.name)+" in the "+u(o.selectedSection)+".",1)):h("",!0),n("button",{onClick:t[0]||(t[0]=(...i)=>e.close&&e.close(...i))},"Close")])):h("",!0)}const oe=k(j,[["render",te],["__scopeId","data-v-f1296a71"]]),ne=""+new URL("../png/map-B0zd8MBI.png",import.meta.url).href,ie={data(){return{visible:!1,map:ne}},methods:{show(){this.visible=!0},hide(){this.visible=!1,this.$emit("closed")}}},ce={key:0,class:"map-container"},le=["src"];function re(s,t,d,r,o,e){return o.visible?(c(),l("div",ce,[n("img",{src:o.map,alt:"Store Map"},null,8,le),n("button",{onClick:t[0]||(t[0]=(...i)=>e.hide&&e.hide(...i))},"Close")])):h("",!0)}const ae=k(ie,[["render",re],["__scopeId","data-v-a6104927"]]),pe={props:{visible:{type:Boolean,required:!0}},data(){return{product:{name:"Milk",price:"$3.99",description:"A fresh and natural milk with high-quality standards.",ingredients:["Cow Milk","Vitamin D"]}}},methods:{selectProduct(){this.$emit("selected",this.product)},close(){this.$emit("close")}}},ue={key:0,class:"product-info-container"},de={class:"product-details"},he={class:"product-actions"};function me(s,t,d,r,o,e){return d.visible?(c(),l("div",ue,[n("div",de,[n("h3",null,u(o.product.name),1),n("p",null,"Price: "+u(o.product.price),1),n("p",null,"Description: "+u(o.product.description),1),n("p",null,"Ingredients: "+u(o.product.ingredients.join(", ")),1)]),n("div",he,[n("button",{onClick:t[0]||(t[0]=(...i)=>e.selectProduct&&e.selectProduct(...i))},"Select"),n("button",{onClick:t[1]||(t[1]=(...i)=>e.close&&e.close(...i))},"Close")])])):h("",!0)}const fe=k(pe,[["render",me],["__scopeId","data-v-65ef13fd"]]),ge=""+new URL("../png/pay-LaQfS5PE.png",import.meta.url).href,ke={data(){return{visible:!1,currentStep:0,steps:[{message:"Hello! Welcome to our Supermarket. May I scan your items?",options:["Yes please.","No thanks."],img:null},{message:"The total price is $10. Would you like any bags?",options:["Yes one bag please.","No thanks."],img:null},{message:"Ok! What kind of payment would you like to use?",options:["QR Code","Octopus Card","Passcode"],img:ge},{message:"This is your receipt. Have a nice day!",options:["Thanks! You too!"],img:null}],currentMessage:"",currentOptions:[],currentimg:null,showOptions:!0,showCloseButton:!1}},methods:{showDialog(){this.visible=!0,this.currentStep=0,this.updateStep()},closeDialog(){this.visible=!1},handleOption(s){console.log("Selected option:",s),this.currentStep<this.steps.length-1?(this.currentStep++,this.updateStep()):(this.showOptions=!1,this.showCloseButton=!0)},updateStep(){const s=this.steps[this.currentStep];this.currentMessage=s.message,this.currentOptions=s.options,this.currentimg=s.img,this.showOptions=s.options.length>0}}},_e={key:0,class:"checkout-dialog"},Ce={class:"message"},Se=["src"],be={key:1,class:"options"},ve=["onClick"];function we(s,t,d,r,o,e){return o.visible?(c(),l("div",_e,[n("div",Ce,u(o.currentMessage),1),o.currentimg?(c(),l("img",{key:0,src:o.currentimg,alt:"pay"},null,8,Se)):h("",!0),o.showOptions?(c(),l("div",be,[(c(!0),l(b,null,v(o.currentOptions,i=>(c(),l("button",{key:i,onClick:m=>e.handleOption(i)},u(i),9,ve))),128))])):h("",!0),o.showCloseButton?(c(),l("button",{key:2,onClick:t[0]||(t[0]=(...i)=>e.closeDialog&&e.closeDialog(...i))},"Close")):h("",!0)])):h("",!0)}const Ie=k(ke,[["render",we],["__scopeId","data-v-4aad95ae"]]),ye=new URL("assets/scene.0e7e381f.glb",location.href).href,De=new URL("assets/scene.78eb8026.glb",location.href).href,f=new R,p=new T(75,window.innerWidth/window.innerHeight,.1,1e3),S=new x,y=new B,g=new U(p,S.domElement),Pe=De,Le=ye,Me={name:"SupermarketScene",components:{ShoppingList:Q,ShopAssistantDialogue:oe,MapComponent:ae,ProductInfo:fe,CheckoutDialog:Ie},data(){return{isProductInfoVisible:!1,selectedShoppingItems:[]}},mounted(){this.initScene()},methods:{onShoppingListClick(){this.$refs.shoppingList.show()},onShopAssistanceClick(){p.position.set(-2,1,7),setTimeout(()=>{this.$refs.shopAssistantDialogue&&this.$refs.shopAssistantDialogue.show()},700)},onMapClick(){p.position.set(0,180,0),setTimeout(()=>{this.$refs.mapComponent&&this.$refs.mapComponent.show()},700)},onCheckoutClick(){p.position.set(-44,2,-30);const s=new I(0,0,-100);p.lookAt(s),g.target.set(s.x,s.y,s.z),g.update(),setTimeout(()=>{this.$refs.checkoutDialog&&this.$refs.checkoutDialog.showDialog()},700)},onResetClick(){p.position.set(0,0,10);const s=new I(0,0,0);p.lookAt(s),g.target.set(s.x,s.y,s.z),g.update()},onPickClick(){p.position.set(55,0,30),setTimeout(()=>{this.isProductInfoVisible=!0},700)},handleProductSelected(s){console.log("Selected product:",s.name),this.selectedShoppingItems.push(s.name),this.isProductInfoVisible=!1},initScene(){S.setSize(window.innerWidth,window.innerHeight),this.$refs.canvasContainer.appendChild(S.domElement),y.load(Le,function(r){const o=r.scene.children[0];f.add(r.scene),r.scene.position.set(1,-3,2),r.scene.scale.set(3.3,3.3,3.3);const e=o.clone();e.position.set(-44,-3,-36),e.scale.set(3.3,3.3,3.3),f.add(e)}),y.load(Pe,function(r){f.add(r.scene),r.scene.position.set(-25,-3,-70),r.scene.scale.set(1,1,1)});const s=new W(16777215,.5);f.add(s);const t=new H(16777215,.8);t.position.set(0,1,1),f.add(t),p.position.set(0,0,10),g.update();const d=function(){requestAnimationFrame(d),g.update(),S.render(f,p)};d()}}},Ae={class:"ui-container"},$e={ref:"canvasContainer",class:"canvas-container"};function Ve(s,t,d,r,o,e){const i=C("ProductInfo"),m=C("ShoppingList"),P=C("ShopAssistantDialogue"),L=C("MapComponent"),M=C("CheckoutDialog");return c(),l(b,null,[n("div",Ae,[n("div",{class:"button",onClick:t[0]||(t[0]=(...a)=>e.onShoppingListClick&&e.onShoppingListClick(...a))},"Shopping List"),n("div",{class:"button",onClick:t[1]||(t[1]=(...a)=>e.onShopAssistanceClick&&e.onShopAssistanceClick(...a))},"Shop Assistance"),n("div",{class:"button",onClick:t[2]||(t[2]=(...a)=>e.onMapClick&&e.onMapClick(...a))},"Map"),n("div",{class:"button",onClick:t[3]||(t[3]=(...a)=>e.onPickClick&&e.onPickClick(...a))},"Pick Up Demo"),n("div",{class:"button",onClick:t[4]||(t[4]=(...a)=>e.onCheckoutClick&&e.onCheckoutClick(...a))},"Checkout"),n("div",{class:"button",onClick:t[5]||(t[5]=(...a)=>e.onResetClick&&e.onResetClick(...a))},"Reset"),_(i,{visible:o.isProductInfoVisible,onSelected:e.handleProductSelected,onClose:t[6]||(t[6]=a=>o.isProductInfoVisible=!1)},null,8,["visible","onSelected"])]),_(m,{ref:"shoppingList",selectedItems:o.selectedShoppingItems},null,8,["selectedItems"]),_(P,{ref:"shopAssistantDialogue"},null,512),_(L,{ref:"mapComponent"},null,512),_(M,{ref:"checkoutDialog"},null,512),n("div",$e,null,512)],64)}const Oe=k(Me,[["render",Ve]]),w=O(Oe);w.use(N);w.use(A);w.mount("#app-prototype");
